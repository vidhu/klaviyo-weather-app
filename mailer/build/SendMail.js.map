{"version":3,"sources":["../src/SendMail.js"],"names":["connect","nodemailer","createTransport","host","process","env","SMTP_HOST","port","parseInt","SMTP_PORT","secure","SMTP_SECURE","auth","user","SMTP_USER","pass","SMTP_PWD","generateEmail","city","map","n","SendMail","constructor","transporter","sendMail","email","mailOptions","from","to","subject","html","info","console","log","messageId","getTestMessageUrl"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEO,MAAMA,OAAO,GAAG,MACrBC,oBAAWC,eAAX,CAA2B;AACzBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,SAAZ,IAAyB,qBADN;AAEzBC,EAAAA,IAAI,EAAEC,QAAQ,CAACJ,OAAO,CAACC,GAAR,CAAYI,SAAb,CAAR,IAAmC,GAFhB;AAGzBC,EAAAA,MAAM,EAAEF,QAAQ,CAACJ,OAAO,CAACC,GAAR,CAAYM,WAAb,CAAR,KAAsC,CAHrB;AAIzBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAET,OAAO,CAACC,GAAR,CAAYS,SAAZ,IAAyB,iCAD3B;AAEJC,IAAAA,IAAI,EAAEX,OAAO,CAACC,GAAR,CAAYW,QAAZ,IAAwB;AAF1B;AAJmB,CAA3B,CADK;;;;AAWP,MAAMC,aAAa,GAAGC,IAAI,IACxB,0CACE,uDADF,EAEE,yCACG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgBC,GAAhB,CAAoBC,CAAC,IACpB;AAAI,EAAA,GAAG,EAAEA;AAAT,GAAaA,CAAb,CADD,CADH,CAFF,CADF;;AAWO,MAAMC,QAAN,CAAe;AACpBC,EAAAA,WAAW,CAACC,WAAD,EAAc;AACvB,SAAKA,WAAL,GAAmBA,WAAnB;AACD;;AAED,QAAMC,QAAN,CAAeC,KAAf,EAAsBP,IAAtB,EAA4B;AAC1B,QAAIQ,WAAW,GAAG;AAChBC,MAAAA,IAAI,EAAE,yCADU;AAEhBC,MAAAA,EAAE,EAAEH,KAFY;AAGhBI,MAAAA,OAAO,EAAE,gBAHO;AAIhBC,MAAAA,IAAI,EAAEb,aAAa,CAACC,IAAD;AAJH,KAAlB;AAOA,UAAMa,IAAI,GAAG,MAAM,KAAKR,WAAL,CAAiBC,QAAjB,CAA0BE,WAA1B,CAAnB;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAa,iBAAgBF,IAAI,CAACG,SAAU,EAA5C;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAa,gBAAehC,oBAAWkC,iBAAX,CAA6BJ,IAA7B,CAAmC,EAA/D;AACA,WAAOA,IAAP;AACD;;AAjBmB","sourcesContent":["import nodemailer from 'nodemailer';\nimport React from 'react';\nimport ReactDomServer from 'react-dom/server';\n\nexport const connect = () =>\n  nodemailer.createTransport({\n    host: process.env.SMTP_HOST || 'smtp.ethereal.email',\n    port: parseInt(process.env.SMTP_PORT) || 587,\n    secure: parseInt(process.env.SMTP_SECURE) === 1,\n    auth: {\n      user: process.env.SMTP_USER || 'en57otb2vldrenmg@ethereal.email',\n      pass: process.env.SMTP_PWD || 'ckZWafnyfGFvqQqsHN'\n    }\n  });\n\nconst generateEmail = city => (\n  <div>\n    <h1>Hello World</h1>\n    <ul>\n      {[0, 1, 2, 3, 4].map(n => (\n        <li key={n}>{n}</li>\n      ))}\n    </ul>\n  </div>\n);\n\nexport class SendMail {\n  constructor(transporter) {\n    this.transporter = transporter;\n  }\n\n  async sendMail(email, city) {\n    let mailOptions = {\n      from: '\"Vidhu Bhatnagar\" <vidhu1911@gmail.com>',\n      to: email,\n      subject: 'weather update',\n      html: generateEmail(city)\n    };\n\n    const info = await this.transporter.sendMail(mailOptions);\n    console.log(`Message send: ${info.messageId}`);\n    console.log(`Preview URL: ${nodemailer.getTestMessageUrl(info)}`);\n    return info;\n  }\n}\n"],"file":"SendMail.js"}